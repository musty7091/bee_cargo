{% extends "base.html" %}

{% block title %}Şifre Değiştir - İşletme Paneli{% endblock %}

{% block body_class %}business-page form-page{% endblock %}

{% block content %}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-7">
            {# Biraz daha geniş bir sütun #}
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0 h5">Şifre Değiştir</h3>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('bp_business.change_password') }}">
                        <div class="form-group">
                            <label for="current_password">Mevcut Şifreniz (*)</label>
                            <input type="password" id="current_password" name="current_password" class="form-control"
                                   value="{{ form_data.get('current_password', '') }}" required>
                        </div>
                        <div class="form-group">
                            <label for="new_password">Yeni Şifre (*)</label>
                            <input type="password" id="new_password" name="new_password" class="form-control" required aria-describedby="passwordHelpBlock">
                            {# YENİ: Şifre kriterleri için açıklama bloğu #}
                            <small id="passwordHelpBlock" class="form-text text-muted">
                                Yeni şifreniz en az 8 karakter olmalı ve şunları içermelidir:
                                <ul>
                                    <li>En az bir büyük harf (A-Z)</li>
                                    <li>En az bir küçük harf (a-z)</li>
                                    <li>En az bir rakam (0-9)</li>
                                    <li>En az bir özel karakter (örn: !@#$%^&*)</li>
                                </ul>
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="confirm_new_password">Yeni Şifre (Tekrar) (*)</label>
                            <input type="password" id="confirm_new_password" name="confirm_new_password" class="form-control" required>
                        </div>
                        <hr class="my-4">
                        <p class="text-muted"><small>(*) ile işaretli alanlar zorunludur.</small></p>
                        <div class="form-group text-right">
                            <a href="{{ url_for('bp_business.dashboard') }}" class="btn btn-outline-secondary mr-2">
                                <i class="fas fa-times mr-1"></i> İptal
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save mr-1"></i> Şifreyi Güncelle
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block head_extra %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<style>
    #passwordHelpBlock ul {
        padding-left: 20px; /* Madde işaretlerini hizala */
        margin-bottom: 0; /* Alt boşluğu kaldır */
        font-size: 0.9em; /* Biraz daha küçük */
    }

    #passwordHelpBlock li {
        margin-bottom: 0.25rem; /* Maddeler arası boşluk */
    }
</style>
{% endblock %}